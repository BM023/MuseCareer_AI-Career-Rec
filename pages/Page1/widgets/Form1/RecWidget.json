{
  "backgroundColor": "#f4f4f5",
  "borderColor": "#E0DEDE",
  "borderRadius": "0.375rem",
  "borderWidth": "1",
  "bottomRow": 106,
  "boxShadow": "none",
  "defaultModel": "{\n  \"tips\": [\n    \"Pass data to this widget in the default model field\",\n    \"Access data in the javascript file using the appsmith.model variable\",\n    \"Create events in the widget and trigger them in the javascript file using appsmith.triggerEvent('eventName')\",\n    \"Access data in CSS as var(--appsmith-model-{property-name})\"\n  ]\n}",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicPropertyPathList": [],
  "dynamicTriggerPathList": [],
  "events": [],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "vktv0vtr3o",
  "leftColumn": 2,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 85,
  "mobileLeftColumn": 4,
  "mobileRightColumn": 27,
  "mobileTopRow": 55,
  "needsErrorInfo": false,
  "originalBottomRow": 106,
  "originalTopRow": 58,
  "parentColumnSpace": 15.037109375,
  "parentId": "uhtwys3zcf",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 62,
  "srcDoc": {
    "css": ".app {\n  /* Dimensions derived from Appsmith environment variables */\n  height: calc(var(--appsmith-ui-height) * 1px);\n  width: calc(var(--appsmith-ui-width) * 1px);\n  /* Layout and Aesthetics */\n  justify-content: center;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  padding: 29px 25px;\n  box-sizing: border-box;\n  font-family: system-ui;\n  background: #fff;\n}\n\n.rec-container { /* Renamed from .tip-container */\n  margin-bottom: 20px;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.rec-container h2 {\n  margin-bottom: 20px;\n  font-size: 18px; /* Slightly larger for the title */\n  font-weight: 700;\n  color: var(--appsmith-theme-primaryColor); /* Use theme color for the title */\n}\n\n.rec-header { /* Renamed from .tip-header */\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 9px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 5px;\n}\n\n.rec-header div {\n  color: #999;\n  font-weight: 500;\n}\n\n.content {\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n.button-container {\n  text-align: right;\n  padding-top: 10px;\n  border-top: 1px solid #eee;\n}\n\n.button-container button {\n  margin: 0 10px;\n  cursor: pointer;\n  border-radius: var(--appsmith-theme-borderRadius);\n  padding: 8px 20px;\n  background: none;\n  height: auto;\n  transition: all 0.3s ease;\n  font-weight: 600;\n}\n\n.button-container button.primary {\n  background: var(--appsmith-theme-primaryColor) !important;\n  color: #fff;\n  border: 1px solid var(--appsmith-theme-primaryColor) !important;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.button-container button.primary:hover:not(:disabled) {\n  opacity: 0.9;\n}",
    "html": "<!-- no need to write html, head, body tags, it is handled by the widget -->\n<div id=\"root\"></div>\n",
    "js": "function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport React from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\n\n// Simple Button component for styling consistency\nconst Button = ({\n  children,\n  className,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"button\", _extends({\n  className: className\n}, props), children);\nfunction App() {\n  // Use the Appsmith model state for the current page index (0-3 for 4 pages)\n  // We use appsmith.model.currentIndex if you configure the Custom Widget to have\n  // a property for the current index, but typically for Custom Widgets controlling \n  // their own view, we manage it internally or rely on the store/parent trigger.\n  // Since you want the 'Next' button to trigger the parent's logic (CVProcessor.goToNextPage),\n  // we primarily focus on displaying the data based on the external state/data.\n\n  // The custom widget receives its data source via the 'sourceData' property\n  const recommendations = appsmith.model.sourceData || [];\n\n  // The Custom Widget's primary purpose is now to display the content for the currently selected page (1 to 4)\n  // We will assume the parent application (CVProcessor.goToNextPage) handles navigation\n  // and simply display the content from the recommendations array based on the current page ID of the widget.\n\n  // NOTE: The 'RecWidget' in Appsmith automatically tracks its own page ID (1-4).\n  // We need to bind the custom widget content to this ID in the parent app. \n  // For simplicity, we assume the parent app passes ALL 4 recommendations via the 'sourceData' property.\n\n  // We simulate the page control here for the component to be self-contained and runnable\n  const [currentPageIndex, setCurrentPageIndex] = React.useState(0); // 0-indexed (0 to 3)\n\n  const handleNext = () => {\n    // We trigger the 'onNextClick' event which the parent Appsmith app (CVProcessor) will listen to.\n    // This is the optimal way for the Custom Widget to signal navigation intent to the parent.\n    appsmith.triggerEvent(\"onNextClick\");\n\n    // We also update the internal state for display purposes if the parent doesn't immediately refresh us.\n    // This internal update is primarily for showing the current content accurately within the component's preview.\n    setCurrentPageIndex(prevIndex => (prevIndex + 1) % recommendations.length);\n  };\n\n  // Determine which recommendation to display\n  const currentRecommendation = recommendations[currentPageIndex] || {\n    title: \"Loading Analysis...\",\n    page_content: recommendations.length > 0 ? \"Content is loading...\" : \"Please submit your CV and details using the button above to view recommendations.\"\n  };\n\n  // Check if data is still loading\n  const isLoading = appsmith.model.sourceData === undefined || appsmith.model.sourceData === null;\n  const totalPages = recommendations.length > 0 ? recommendations.length : 4;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rec-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rec-header\"\n  }, /*#__PURE__*/React.createElement(\"h2\", null, currentRecommendation.title), /*#__PURE__*/React.createElement(\"div\", null, currentPageIndex + 1, \" / \", totalPages)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\"\n  }, isLoading ? \"Analysis in progress... Please wait.\" : currentRecommendation.page_content)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-container\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"primary\",\n    onClick: handleNext,\n    disabled: isLoading || recommendations.length < 4 // Disable if still loading or data incomplete\n  }, \"Next\")));\n}\nappsmith.onReady(() => {\n  ReactDOM.render(/*#__PURE__*/React.createElement(App, null), document.getElementById(\"root\"));\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 58,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ".app {\n  /* Dimensions derived from Appsmith environment variables */\n  height: calc(var(--appsmith-ui-height) * 1px);\n  width: calc(var(--appsmith-ui-width) * 1px);\n  \n  /* Layout and Aesthetics */\n  justify-content: center;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  padding: 29px 25px;\n  box-sizing: border-box;\n  font-family: system-ui;\n  background: #fff;\n}\n\n.rec-container { /* Renamed from .tip-container */\n  margin-bottom: 20px;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.rec-container h2 {\n  margin-bottom: 20px;\n  font-size: 18px; /* Slightly larger for the title */\n  font-weight: 700;\n  color: var(--appsmith-theme-primaryColor); /* Use theme color for the title */\n}\n\n.rec-header { /* Renamed from .tip-header */\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 9px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 5px;\n}\n\n.rec-header div {\n  color: #999;\n  font-weight: 500;\n}\n\n.content {\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n.button-container {\n  text-align: right;\n  padding-top: 10px;\n  border-top: 1px solid #eee;\n}\n\n.button-container button {\n  margin: 0 10px;\n  cursor: pointer;\n  border-radius: var(--appsmith-theme-borderRadius);\n  padding: 8px 20px;\n  background: none;\n  height: auto;\n  transition: all 0.3s ease;\n  font-weight: 600;\n}\n\n.button-container button.primary {\n  background: var(--appsmith-theme-primaryColor) !important;\n  color: #fff;\n  border: 1px solid var(--appsmith-theme-primaryColor) !important;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.button-container button.primary:hover:not(:disabled) {\n    opacity: 0.9;\n}",
    "html": "<!-- no need to write html, head, body tags, it is handled by the widget -->\n<div id=\"root\"></div>\n",
    "js": "import React from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\n\n// Simple Button component for styling consistency\nconst Button = ({ children, className, ...props }) => (\n  <button className={className} {...props}>\n    {children}\n  </button>\n);\n\nfunction App() {\n  // Use the Appsmith model state for the current page index (0-3 for 4 pages)\n  // We use appsmith.model.currentIndex if you configure the Custom Widget to have\n  // a property for the current index, but typically for Custom Widgets controlling \n  // their own view, we manage it internally or rely on the store/parent trigger.\n  // Since you want the 'Next' button to trigger the parent's logic (CVProcessor.goToNextPage),\n  // we primarily focus on displaying the data based on the external state/data.\n\n  // The custom widget receives its data source via the 'sourceData' property\n  const recommendations = appsmith.model.sourceData || [];\n  \n  // The Custom Widget's primary purpose is now to display the content for the currently selected page (1 to 4)\n  // We will assume the parent application (CVProcessor.goToNextPage) handles navigation\n  // and simply display the content from the recommendations array based on the current page ID of the widget.\n  \n  // NOTE: The 'RecWidget' in Appsmith automatically tracks its own page ID (1-4).\n  // We need to bind the custom widget content to this ID in the parent app. \n  // For simplicity, we assume the parent app passes ALL 4 recommendations via the 'sourceData' property.\n  \n  // We simulate the page control here for the component to be self-contained and runnable\n  const [currentPageIndex, setCurrentPageIndex] = React.useState(0); // 0-indexed (0 to 3)\n\n  const handleNext = () => {\n    // We trigger the 'onNextClick' event which the parent Appsmith app (CVProcessor) will listen to.\n    // This is the optimal way for the Custom Widget to signal navigation intent to the parent.\n    appsmith.triggerEvent(\"onNextClick\");\n    \n    // We also update the internal state for display purposes if the parent doesn't immediately refresh us.\n    // This internal update is primarily for showing the current content accurately within the component's preview.\n    setCurrentPageIndex((prevIndex) => (prevIndex + 1) % recommendations.length);\n  };\n  \n  // Determine which recommendation to display\n  const currentRecommendation = recommendations[currentPageIndex] || { \n    title: \"Loading Analysis...\", \n    page_content: recommendations.length > 0 \n      ? \"Content is loading...\"\n      : \"Please submit your CV and details using the button above to view recommendations.\"\n  };\n  \n  // Check if data is still loading\n  const isLoading = appsmith.model.sourceData === undefined || appsmith.model.sourceData === null;\n  const totalPages = recommendations.length > 0 ? recommendations.length : 4;\n\n\n  return (\n    <div className=\"app\">\n      <div className=\"rec-container\">\n        <div className=\"rec-header\">\n          {/* Dynamically display the recommendation title */}\n          <h2>{currentRecommendation.title}</h2>\n          {/* Display current page progress */}\n          <div>{currentPageIndex + 1} / {totalPages}</div>\n        </div>\n        {/* Display the detailed analysis content */}\n        <div className=\"content\">\n          {isLoading ? \"Analysis in progress... Please wait.\" : currentRecommendation.page_content}\n        </div>\n      </div>\n      <div className=\"button-container\">\n        {/* Only keep the 'Next' button and update its text */}\n        <Button \n          className=\"primary\" \n          onClick={handleNext}\n          disabled={isLoading || recommendations.length < 4} // Disable if still loading or data incomplete\n        >\n          Next\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nappsmith.onReady(() => {\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n});"
  },
  "version": 1,
  "widgetId": "vomi6own0w",
  "widgetName": "RecWidget"
}